<main style="max-width:800px; margin:48px auto 0 auto; background:linear-gradient(120deg,#f7f9fc 60%,#eaf0fa 100%); border-radius:22px; box-shadow:0 6px 32px rgba(42,63,102,0.14); padding:48px 44px 36px 44px; border:2.5px solid #3b5998;">
  <h2 style="color:#3b5998; margin-bottom:28px; text-align:center; font-size:2em; letter-spacing:0.5px;">Mis asignaturas</h2>
  <form action="/profesor/asignaturas/crear" method="POST" style="margin-bottom:38px; display:flex; flex-wrap:wrap; gap:14px 20px; align-items:flex-end; justify-content:center; background:#fff; border-radius:14px; box-shadow:0 2px 12px rgba(42,63,102,0.07); padding:24px 18px;">
    <input type="text" name="nombre" placeholder="Nombre del curso" required style="flex:1 1 180px; min-width:140px; padding:11px 15px; border-radius:8px; border:1.5px solid #6a89cc; font-size:1em;">
    <input type="text" name="codigo" placeholder="Código" required style="flex:1 1 120px; min-width:100px; padding:11px 15px; border-radius:8px; border:1.5px solid #6a89cc; font-size:1em;">
    <input type="text" name="seccion" placeholder="Sección" required style="flex:1 1 90px; min-width:80px; padding:11px 15px; border-radius:8px; border:1.5px solid #6a89cc; font-size:1em;">
    <input type="number" name="cupos" placeholder="Cupos" min="1" required style="flex:1 1 80px; min-width:70px; padding:11px 15px; border-radius:8px; border:1.5px solid #6a89cc; font-size:1em;">
    <input type="number" name="creditos" placeholder="Créditos" min="1" required style="flex:1 1 90px; min-width:80px; padding:11px 15px; border-radius:8px; border:1.5px solid #6a89cc; font-size:1em;">
    <input type="text" name="sede" placeholder="Sede" required style="flex:1 1 120px; min-width:100px; padding:11px 15px; border-radius:8px; border:1.5px solid #6a89cc; font-size:1em;">
    <div id="horarios-container" style="display:flex; flex-wrap:wrap; gap:10px 18px; margin-bottom:10px;">
      <div>
        <select name="horarios[0][dia]" required style="padding:10px 12px; border-radius:8px; border:1.5px solid #6a89cc; font-size:1em;">
          <option value="">Día</option>
          <option value="Lunes">Lunes</option>
          <option value="Martes">Martes</option>
          <option value="Miércoles">Miércoles</option>
          <option value="Jueves">Jueves</option>
          <option value="Viernes">Viernes</option>
        </select>
        <select name="horarios[0][bloque]" required style="padding:10px 12px; border-radius:8px; border:1.5px solid #6a89cc; font-size:1em;">
          <option value="">Bloque</option>
          <option value="08:30 - 09:50">08:30 - 09:50</option>
          <option value="10:00 - 11:20">10:00 - 11:20</option>
          <option value="11:30 - 12:50">11:30 - 12:50</option>
          <option value="13:00 - 14:20">13:00 - 14:20</option>
          <option value="14:30 - 15:50">14:30 - 15:50</option>
          <option value="16:00 - 17:20">16:00 - 17:20</option>
          <option value="17:30 - 18:50">17:30 - 18:50</option>
        </select>
      </div>
      <div>
        <select name="horarios[1][dia]" style="padding:10px 12px; border-radius:8px; border:1.5px solid #6a89cc; font-size:1em;">
          <option value="">Día</option>
          <option value="Lunes">Lunes</option>
          <option value="Martes">Martes</option>
          <option value="Miércoles">Miércoles</option>
          <option value="Jueves">Jueves</option>
          <option value="Viernes">Viernes</option>
        </select>
        <select name="horarios[1][bloque]" style="padding:10px 12px; border-radius:8px; border:1.5px solid #6a89cc; font-size:1em;">
          <option value="">Bloque</option>
          <option value="08:30 - 09:50">08:30 - 09:50</option>
          <option value="10:00 - 11:20">10:00 - 11:20</option>
          <option value="11:30 - 12:50">11:30 - 12:50</option>
          <option value="13:00 - 14:20">13:00 - 14:20</option>
          <option value="14:30 - 15:50">14:30 - 15:50</option>
          <option value="16:00 - 17:20">16:00 - 17:20</option>
          <option value="17:30 - 18:50">17:30 - 18:50</option>
        </select>
      </div>
    </div>
    <button type="submit" style="background:linear-gradient(90deg,#3b5998 60%,#6a89cc 100%); color:#fff; border:none; border-radius:8px; padding:13px 32px; font-weight:700; font-size:1.13em; box-shadow:0 2px 8px rgba(42,63,102,0.09); transition:background 0.18s, transform 0.12s; letter-spacing:0.5px; margin-top:2px;">
      ➕ Crear curso
    </button>
  </form>
  <table style="width:100%; border-collapse:collapse; margin-top:10px; background:#fff; border-radius:12px; overflow:hidden;">
    <thead>
      <tr style="background:#eaf0fa;">
        <th style="padding:13px; font-size:1.08em;">Asignatura</th>
        <th style="padding:13px; font-size:1.08em;">Alumnos</th>
        <th style="padding:13px; font-size:1.08em;">Acciones</th>
      </tr>
    </thead>
    <tbody>
      {{#each asignaturas}}
        <tr style="border-bottom:1px solid #eaf0fa;">
          <td style="padding:12px; font-size:1.04em;">{{nombre}}</td>
          <td style="padding:12px; font-size:1.04em;">{{alumnosCount}}</td>
          <td style="padding:12px; display:flex; gap:10px;">
            <a href="/profesor/asignaturas/{{id}}/alumnos" style="background:#3b5998; color:#fff; border-radius:7px; padding:8px 22px; font-weight:600; text-decoration:none; font-size:1em; box-shadow:0 1px 4px rgba(42,63,102,0.09); transition:background 0.18s;">Ver alumnos</a>
            <form action="/profesor/asignaturas/{{id}}/eliminar" method="POST" style="display:inline;">
              <button
                type="submit"
                onclick="return confirmarEliminacion(this)"
                style="background:#c0392b; color:#fff; border:none; border-radius:7px; padding:8px 18px; font-weight:600; font-size:1em; box-shadow:0 1px 4px rgba(42,63,102,0.09); transition:background 0.18s; margin-left:4px; display:flex; align-items:center; gap:6px;"
                onmouseover="this.style.background='#a93226';"
                onmouseout="this.style.background='#c0392b';"
              >
                <svg width="18" height="18" fill="none" viewBox="0 0 20 20" style="vertical-align:middle;">
      <path d="M6 8v6m4-6v6m4-6v6M3 6h14M5 6V4a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2" stroke="#fff" stroke-width="1.5" stroke-linecap="round"/>
    </svg>
                Eliminar
              </button>
            </form>
          </td>
        </tr>
      {{else}}
        <tr><td colspan="3" style="text-align:center; color:#888; padding:22px;">No tienes asignaturas aún.</td></tr>
      {{/each}}
    </tbody>
  </table>
  <a href="/profesor/dashboard"
     style="display:inline-block; margin-bottom:28px; background:linear-gradient(90deg,#6a89cc 60%,#3b5998 100%); color:#fff; border:none; border-radius:8px; padding:11px 30px; font-weight:700; font-size:1.13em; text-decoration:none; box-shadow:0 2px 8px rgba(42,63,102,0.09); transition:background 0.18s, transform 0.12s; letter-spacing:0.5px;">
    ← Volver al panel
  </a>
</main>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
  function confirmarEliminacion(btn) {
    event.preventDefault();
    Swal.fire({
      title: '¿Eliminar asignatura?',
      text: 'Esta acción no se puede deshacer.',
      icon: 'warning',
      showCancelButton: true,
      confirmButtonColor: '#c0392b',
      cancelButtonColor: '#6a89cc',
      confirmButtonText: 'Sí, eliminar',
      cancelButtonText: 'Cancelar'
    }).then((result) => {
      if (result.isConfirmed) {
        btn.closest('form').submit();
      }
    });
    return false;
  }
</script>
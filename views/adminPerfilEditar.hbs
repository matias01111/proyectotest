<main style="display:flex; justify-content:center; align-items:center; min-height:80vh;">
  <div style="width:100%; max-width:440px; background:#fff; border-radius:20px; box-shadow:0 6px 32px rgba(42,63,102,0.14); padding:44px 36px 32px 36px; border:2.5px solid #3b5998;">
    {{#if guardado}}
      <div style="background:#e6f9ed; color:#217a4b; border-radius:8px; padding:10px 22px; font-weight:600; box-shadow:0 2px 8px rgba(42,63,102,0.13); font-size:1em; margin-bottom:18px; text-align:center;">
        ¡Perfil guardado correctamente!
      </div>
    {{/if}}
    <form action="/admin/perfil" method="POST" enctype="multipart/form-data" autocomplete="off">
      <div style="display:flex; flex-direction:column; align-items:center;">
        <div style="background:#eaf0fa; border-radius:50%; width:104px; height:104px; display:flex; align-items:center; justify-content:center; margin-bottom:18px; box-shadow:0 2px 10px rgba(42,63,102,0.09); position:relative; overflow:hidden;">
          {{#if usuario.foto}}
            <img src="{{usuario.foto}}" alt="Foto de perfil" style="width:100%; height:100%; object-fit:cover; border-radius:50%;">
          {{else}}
            <span style="font-size:2.7em; color:#3b5998; font-weight:700;">{{usuario.username.[0]}}</span>
          {{/if}}
          <label for="foto-input" style="background:#3b5998; color:#fff; border-radius:50%; width:32px; height:32px; display:flex; align-items:center; justify-content:center; cursor:pointer; font-size:1.2em; border:2px solid #fff; box-shadow:0 1px 4px rgba(42,63,102,0.13); position:absolute; bottom:0; right:0;">
            <span title="Cambiar foto">&#9998;</span>
            <input id="foto-input" name="foto" type="file" accept="image/*" style="display:none;">
          </label>
        </div>
        <input type="hidden" name="fotoActual" value="{{usuario.foto}}">
      </div>
      <div class="input-group" style="margin-bottom:18px; display:flex; flex-direction:column; align-items:center;">
        <label for="username" style="color:#3b5998; font-weight:600; margin-bottom:6px; align-self:flex-start;">Nombre de usuario</label>
        <input id="username" type="text" name="username" value="{{usuario.username}}" required style="padding:10px 14px; border-radius:7px; border:1.5px solid #6a89cc; font-size:1.08em; color:#3b5998; background:#f7f9fc; width:100%;">
      </div>
      <div class="input-group" style="margin-bottom:18px; display:flex; flex-direction:column; align-items:center;">
        <label for="email" style="color:#3b5998; font-weight:600; margin-bottom:6px; align-self:flex-start;">Correo electrónico</label>
        <input id="email" type="email" name="email" value="{{usuario.email}}" required style="padding:10px 14px; border-radius:7px; border:1.5px solid #6a89cc; font-size:1.08em; color:#3b5998; background:#f7f9fc; width:100%;">
      </div>
      <div class="input-group" style="margin-bottom:18px; display:flex; flex-direction:column; align-items:center;">
        <label for="password" style="color:#3b5998; font-weight:600; margin-bottom:6px; align-self:flex-start;">Nueva contraseña <span style="color:#888; font-weight:400;">(opcional)</span></label>
        <input id="password" type="password" name="password" placeholder="Dejar en blanco para no cambiar" style="padding:10px 14px; border-radius:7px; border:1.5px solid #6a89cc; font-size:1.08em; color:#3b5998; background:#f7f9fc; width:100%;">
      </div>
      <button type="submit" class="btn-editar" style="background:linear-gradient(90deg,#3b5998 60%,#6a89cc 100%); color:#fff; border-radius:8px; padding:12px 0; font-weight:700; font-size:1.09em; width:100%; margin-top:10px; border:none; box-shadow:0 2px 8px rgba(42,63,102,0.09); transition:background 0.18s;">Guardar cambios</button>
    </form>
    <div style="margin-top:18px; text-align:center;">
      <a href="/admin/perfil" class="btn-logout" style="background:#eaf0fa; color:#3b5998; border:1.5px solid #3b5998; border-radius:8px; padding:12px 0; text-decoration:none; font-weight:600; font-size:1.09em; width:100%; display:inline-block;">Volver</a>
    </div>
  </div>
</main>